{#<img src="{{('images/Taha_Hussein.jpg')}}">#}
{#% if  authors is defined and authors|length >0 %}
<table border="1"
{% for author in authors %}
<tr>
<td>
{{ author.id }}
</td>
<td>
<img src="{{asset(author.picture)}}">
</td>
<td>
{{ author.username }}
</td>
<td>
{{ author.email }}
</td>
<td>
{{ author.nb_books}}
</td>
<td>
{% endfor %} 
</table>
{% else %}
<h1> le tableau est vide </h1>
{% endif %#}
<!DOCTYPE html>
<html>
<head>
    <title>Liste des auteurs</title>
</head>
<body>
    <h1>Liste des auteurs</h1>

    {% if authors is defined and authors|length > 0 %}
        <p>Nombre d'auteurs : {{ authors|length }}</p>
    <table border="1">
        <tr>
            <th>ID</th>
            <th>Image</th>
            <th>Nom d'utilisateur</th>
            <th>Email</th>
            <th>Nombre de livres</th>
              <th>Détails</th>
        </tr>
        {% set totalBooks = 0 %}
        {% for author in authors %}
        <tr>
            <td>{{ author['id'] }}</td>
            <td><img src="{{ asset(author['picture']) }}" alt="{{ author['username'] }}" width="100"></td>
            <td>{{ author['username']|upper }}</td>
            <td>{{ author['email'] }}</td>
            <td>{{ author['nb_books'] }}</td>
            <td><a href="{{ path('author_details', {id: author.id}) }}">Détails</a></td>

        </tr>
        {% set totalBooks = totalBooks + author['nb_books'] %}
        {% endfor %}
    </table>
        <p>Nombre total de livres de tous les auteurs : {{ totalBooks }}</p>
    {% else %}
    <p>Aucun auteur n'est disponible pour le moment.</p>
    {% endif %}
</body>
</html>
